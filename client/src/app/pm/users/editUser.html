<form name="userForm">
    <div layout-gt-sm="row">
        <md-input-container class="md-block" flex-gt-xs>
            <label>{{ 'user.username' | translate }}</label>
            <input type="email" ng-model="vm.user.username" ng-pattern="/^.+@.+\..+$/" maxlength="300" required autofocus>
        </md-input-container>
    </div>

    <div layout-gt-sm="row">
        <md-input-container ng-if="vm.state=='create'" class="md-block" flex-gt-xs>
            <label>{{ 'user.password' | translate }}</label>
            <input name="password" type="password" ng-model="vm.user.password" pattern=".{6,}" required autocomplete="new-password">
            <div ng-messages="userForm.password.$error">
                <div ng-message="pattern">{{ 'user.validation.password' | translate }}</div>
            </div>
        </md-input-container>
    </div>

    <div layout-gt-sm="row">
        <md-input-container class="md-block" flex-gt-sm>
            <label>{{ 'user.preferredLanguage' | translate }}</label>
            <md-select ng-model="vm.user.preferredLanguage">
                <md-option value="en">EN</md-option>
                <md-option value="de">DE</md-option>
            </md-select>
        </md-input-container>
    </div>

    <div layout-gt-sm="row">
        <md-input-container class="md-block" flex-gt-xs>
            <label>{{ 'user.realName' | translate }}</label>
            <input ng-model="vm.user.realName" maxlength="100">
        </md-input-container>
        <md-input-container class="md-block" flex-gt-xs>
            <label>{{ 'user.phone' | translate }}</label>
            <input ng-model="vm.user.phone" maxlength="30">
        </md-input-container>
    </div>

    <div layout-gt-sm="row">
        <md-input-container class="md-block" flex-gt-xs>
            <label>{{ 'address.country' | translate }}</label>
            <input ng-model="vm.user.address.country" maxlength="60">
        </md-input-container>
        <md-input-container class="md-block" flex-gt-xs>
            <label>{{ 'address.town' | translate }}</label>
            <input ng-model="vm.user.address.town" maxlength="60">
        </md-input-container>
        <md-input-container class="md-block" flex-gt-xs>
            <label>{{ 'address.streetNr' | translate }}</label>
            <input ng-model="vm.user.address.streetNr" maxlength="60">
        </md-input-container>
        <md-input-container class="md-block" flex-gt-xs>
            <label>{{ 'address.additionalLine' | translate }}</label>
            <input ng-model="vm.user.address.additionalLine" maxlength="30">
        </md-input-container>
        <md-input-container class="md-block" flex-gt-xs>
            <label>{{ 'address.zip' | translate }}</label>
            <input ng-model="vm.user.address.zip" pattern="\d*" maxlength="15">
        </md-input-container>
    </div>
    <br>
    <md-button ng-disabled="userForm.$invalid"
               ng-click="vm.save(vm.user)"
               class="md-raised"
               md-colors="{backgroundColor: 'siloblue-700', color: 'siloblue-50'}">
        <span ng-show="vm.state=='create'">{{ 'button.create' | translate }}</span>
        <span ng-show="vm.state=='update'">{{ 'button.update' | translate }}</span>
    </md-button>
</form>