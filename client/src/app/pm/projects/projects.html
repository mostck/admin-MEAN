<div class="container">
    <div ng-if="vm.getAllProjects && vm.getAllProjects.length">
        <md-table-container>
            <table md-table>
                <thead md-head md-order="vm.query.order">
                <tr md-row>
                    <th md-column md-order-by="name">{{ 'project.name' | translate }}</th>
                    <th md-column md-order-by="startDate">{{ 'project.startDate' | translate }}</th>
                    <th md-column md-order-by="endDate">{{ 'project.endDate' | translate }}</th>
                    <th md-column md-order-by="archive">{{ 'project.archive' | translate }}</th>
                    <th md-column></th>
                </tr>
                </thead>
                <tbody md-body>
                <tr ng-if="!vm.permissionRead || project.permissionRead" md-row ng-repeat="project in vm.getAllProjects | orderBy: vm.query.order | limitTo: vm.query.limit : (vm.query.page -1) * vm.query.limit">
                    <td md-cell>{{project.name}}</td>
                    <td md-cell>{{project.startDate | date}}</td>
                    <td md-cell>{{project.endDate | date}}</td>
                    <td md-cell>
                        <span ng-if="project.archive" class="round-box">{{ 'project.yes' | translate }}</span>
                        <span ng-if="!project.archive" class="round-box statusOn">{{ 'project.no' | translate }}</span>
                    </td>
                    <td md-cell>
                        <div class="actions">
                            <md-button class="md-fab md-mini" md-colors="{backgroundColor: 'siloblue-300', color: 'siloblue-50'}" ui-sref="pm.project({ id: project._id})" title="{{ 'button.view' | translate }}">
                                <i class="fa fa-info fa-2"></i>
                            </md-button>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
        </md-table-container>
        <md-table-pagination md-limit="vm.query.limit" md-page="vm.query.page" md-total="{{ vm.getAllProjects.length }}" md-page-select></md-table-pagination>
    </div>
    <p ng-if="!(vm.getAllProjects && vm.getAllProjects.length)">{{'project.no_found' | translate}}</p>
</div>