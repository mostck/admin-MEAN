<ng-form name="companyForm">
    <div layout-gt-sm="row">
        <md-input-container class="md-block" flex-gt-xs>
            <label>{{ 'company.name' | translate }}</label>
            <input ng-model="vm.company.name" maxlength="30" required autofocus>
        </md-input-container>
    </div>
    <div layout-gt-sm="row">
        <md-input-container class="md-block" flex-gt-xs>
            <label>{{ 'company.email' | translate }}</label>
            <input type="email" ng-model="vm.company.email" ng-pattern="/^.+@.+\..+$/" maxlength="60" required>
        </md-input-container>
        <md-input-container class="md-block" flex-gt-xs>
            <label>{{ 'company.phone' | translate }}</label>
            <input ng-model="vm.company.phone" maxlength="30" required>
        </md-input-container>
    </div>
    <div layout-gt-sm="row">
        <md-input-container class="md-block" flex-gt-xs>
            <label>{{ 'address.country' | translate }}</label>
            <input ng-model="vm.company.address.country" maxlength="60">
        </md-input-container>
        <md-input-container class="md-block" flex-gt-xs>
            <label>{{ 'address.town' | translate }}</label>
            <input ng-model="vm.company.address.town" maxlength="60">
        </md-input-container>
        <md-input-container class="md-block" flex-gt-xs>
            <label>{{ 'address.streetNr' | translate }}</label>
            <input ng-model="vm.company.address.streetNr" maxlength="60">
        </md-input-container>
        <md-input-container class="md-block" flex-gt-xs>
            <label>{{ 'address.additionalLine' | translate }}</label>
            <input ng-model="vm.company.address.additionalLine" maxlength="30">
        </md-input-container>
        <md-input-container class="md-block" flex-gt-xs>
            <label>{{ 'address.zip' | translate }}</label>
            <input ng-model="vm.company.address.zip" pattern="\d*" maxlength="15">
        </md-input-container>
    </div>
    <hr>
    <div layout-gt-sm="row">
        <p style="margin: auto;" class="md-block" flex-gt-xs>{{ 'company.daysOfWeek' | translate }}</p>
        <md-input-container class="md-block" flex-gt-xs>
            <md-select multiple="true" ng-model="vm.company.officeTime.daysOfWeek" placeholder="{{ 'input.pleaseSelect' | translate }}">
                <md-option ng-value="day.id" ng-repeat="day in vm.daysOfWeek">{{ day.name | translate }}</md-option>
            </md-select>
        </md-input-container>
    </div>
    <div layout-gt-sm="row">
        <div flex="50">
            <p>{{ 'company.startTime' | translate }} *</p>
            <div uib-timepicker show-meridian="false" ng-model="vm.company.officeTime.startTime"></div>
        </div>
        <div flex="50">
            <p>{{ 'company.endTime' | translate }} *</p>
            <div uib-timepicker show-meridian="false" ng-model="vm.company.officeTime.endTime"></div>
        </div>
    </div>
    <hr>
    <div layout-gt-sm="row">
        <div layout="column" flex="50">
            <p>{{ 'company.reminderTime' | translate }} *</p>
            <div uib-timepicker show-meridian="false" ng-model="vm.company.reminderTime"></div>
        </div>
        <div layout="column" flex="50">
            <p>{{ 'company.reminderProjTime' | translate }} *</p>
            <div uib-timepicker show-meridian="false" ng-model="vm.company.reminderProjTime"></div>
        </div>
    </div>
    <hr>
    <div layout-gt-sm="row">
        <!--<div layout="column" flex="50">-->
            <!--<p>{{ 'company.operationsServiceTime' | translate }} *</p>-->
            <!--<input ng-model="vm.company.operationsServiceTime">-->
        <!--</div>-->
        <!--<div layout="column" flex="50">-->
            <!--<p>{{ 'company.periodicServiceTime' | translate }} *</p>-->
            <!--<input ng-model="vm.company.periodicServiceTime">-->
        <!--</div>-->
        <md-input-container class="md-block" flex-gt-xs>
            <label>{{ 'company.operationsServiceTime' | translate }}</label>
            <input ng-model="vm.company.operationsServiceTime" pattern="\d*" maxlength="30">
        </md-input-container>
        <md-input-container class="md-block" flex-gt-xs>
            <label>{{ 'company.periodicServiceTime' | translate }}</label>
            <input ng-model="vm.company.periodicServiceTime" pattern="\d*" maxlength="30">
        </md-input-container>
    </div>
    <hr>
    <div layout="row">
        <div layout="column" flex="50">
            <label>{{ 'company.logo' | translate }}</label>
            <img style="width:200px;" ng-show="!!vm.company.logo" ngf-thumbnail="vm.company.logo"/>
        </div>
        <div layout="column" flex>
            <ng-form name="vm.upload_form">

                <div layout="row">
                    <input class="upload-logo" type="file" ngf-select ng-model="vm.file" name="file" ngf-pattern="'image/*'" accept="image/*" ngf-max-size="2MB">
                    
                    <md-button ng-click="vm.selectFile()" class="md-raised md-primary md-fab" aria-label="Select logo file">
                        <i class="fa fa-upload fa-2"></i>
                    </md-button>
                    <md-input-container flex layout="column" class="md-block" flex-gt-xs>
                        <input  type="text" ng-model="vm.file.name" name="fileName" disabled="!vm.file">
                        <div ng-messages="vm.upload_form.fileName.$error" md-auto-hide="false" role="alert">
                            <div ng-message="maxSize">{{ 'company.maxSize' | translate }}</div>
                        </div>
                    </md-input-container>
                </div>

                <md-button ng-disabled="!vm.file" class="md-raised" type="submit" ng-click="vm.submit()"  md-colors="{backgroundColor: 'siloblue-700', color: 'siloblue-50'}">{{ 'button.upload' | translate }}</md-button>
                <span ng-if="vm.file">{{ 'company.upload' | translate }}</span>
            </ng-form>
        </div>
    </div>
    <md-button ng-disabled="companyForm.$invalid"
               class="md-raised"
               md-colors="{backgroundColor: 'siloblue-700', color: 'siloblue-50'}"
               ng-click="vm.saveCompany(vm.company)">
        <span ng-show="vm.state=='create'">{{ 'button.create' | translate }}</span>
        <span ng-show="vm.state=='update'">{{ 'button.update' | translate }}</span>
    </md-button>
</ng-form>